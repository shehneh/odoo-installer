<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูพูู ฺฉุงุฑุจุฑ | OdooMaster</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/liara-theme.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/components.css">
    <script>
        // Apply theme immediately (dashboard styles + main.css variables rely on body.light-theme)
        if (localStorage.getItem('theme') === 'light') {
            document.documentElement.classList.add('light-theme');
        }
    </script>
</head>
<body class="dashboard-page liara-theme">
    <script>
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
        }
    </script>
    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a href="index.html" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-cube"></i>
                </div>
                <span class="logo-text">Odoo<strong>Master</strong></span>
            </a>
            <button class="sidebar-toggle" id="sidebarToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-section">
                <span class="nav-section-title" data-i18n="dashboard.mainMenu">ููู ุงุตู</span>
                <a href="dashboard.html" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span data-i18n="dashboard.dashboard">ุฏุงุดุจูุฑุฏ</span>
                </a>
                <a href="#licenses" class="nav-item">
                    <i class="fas fa-key"></i>
                    <span data-i18n="nav.licenses">ูุงุณูุณโูุง</span>
                    <span class="nav-badge" id="licensesBadge">ฐ</span>
                </a>
                <a href="#downloads" class="nav-item">
                    <i class="fas fa-download"></i>
                    <span data-i18n="nav.downloads">ุฏุงูููุฏ ูุตุงุจ</span>
                </a>
                <a href="payment.html" class="nav-item">
                    <i class="fas fa-shopping-cart"></i>
                    <span data-i18n="nav.buyLicense">ุฎุฑุฏ ูุงุณูุณ</span>
                </a>
            </div>

            <!-- Admin Section (Visible only for admins) -->
            <div class="nav-section" id="adminNavSection" style="display: none;">
                <span class="nav-section-title" data-i18n="dashboard.management">ูุฏุฑุช</span>
                <a href="#admin" class="nav-item admin-link" id="adminNavLink">
                    <i class="fas fa-shield-alt"></i>
                    <span data-i18n="dashboard.adminPanel">ูพูู ูุฏุฑุช</span>
                </a>
            </div>
        </nav>

        <div class="sidebar-footer">
            <div class="user-card">
                <div class="user-avatar">
                    <img src="https://ui-avatars.com/api/?name=ฺฉุงุฑุจุฑ+ุชุณุช&background=714B67&color=fff" alt="User">
                    <span class="status-dot online"></span>
                </div>
                <div class="user-info">
                    <strong>ฺฉุงุฑุจุฑ ุชุณุช</strong>
                    <span>ูพูู ุญุฑููโุง</span>
                </div>
                <button class="logout-btn" title="ุฎุฑูุฌ">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Bar -->
        <header class="topbar">
            <div class="topbar-right">
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" data-i18n-placeholder="dashboard.search" placeholder="Search...">
                </div>
            </div>
            <div class="topbar-left">
                <div class="lang-switcher-topbar" id="langSwitcherTopbar">
                    <!-- Language switcher will be inserted here by JS -->
                </div>
                <button class="topbar-btn" id="notifBtn">
                    <i class="fas fa-bell"></i>
                    <span class="notif-badge">3</span>
                </button>
                <button class="topbar-btn" id="themeBtn" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <!-- Welcome Banner -->
            <div class="welcome-banner glass">
                <div class="welcome-content">
                    <h1><span data-i18n="dashboard.hello">ุณูุงูุ</span> <span class="gradient-text" id="userName">ฺฉุงุฑุจุฑ ุนุฒุฒ</span> ๐</h1>
                    <p data-i18n="dashboard.welcomeText">Welcome! Use your dashboard to manage licenses and download the installer.</p>
                </div>
                <div class="welcome-illustration">
                    <div class="illustration-circle"></div>
                    <i class="fas fa-rocket"></i>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card glass">
                    <div class="stat-icon blue">
                        <i class="fas fa-key"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statActiveLicenses">-</span>
                        <span class="stat-label" data-i18n="dashboard.activeLicenses">ูุงุณูุณ ูุนุงู</span>
                    </div>
                </div>
                <div class="stat-card glass">
                    <div class="stat-icon green">
                        <i class="fas fa-download"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statDownloads">-</span>
                        <span class="stat-label" data-i18n="dashboard.downloads">ุฏุงูููุฏ</span>
                    </div>
                </div>
                <div class="stat-card glass">
                    <div class="stat-icon orange">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statDaysRemaining">-</span>
                        <span class="stat-label" data-i18n="dashboard.daysRemaining">ุฑูุฒ ุจุงููุงูุฏู</span>
                    </div>
                </div>
                <div class="stat-card glass">
                    <div class="stat-icon purple">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statTickets">ฐ</span>
                        <span class="stat-label" data-i18n="dashboard.openTickets">ุชฺฉุช ุจุงุฒ</span>
                    </div>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="dashboard-grid">
                <!-- System Check & Install Section -->
                <div class="card glass system-check-card" style="grid-column: 1 / -1;">
                    <div class="card-header">
                        <h3><i class="fas fa-stethoscope"></i> <span data-i18n="dashboard.systemCheck">ุชุณุช ุณุณุชู ู ูุตุจ ูุงุฒููุฏโูุง</span></h3>
                        <span class="section-badge" id="systemStatus" data-i18n="dashboard.readyToTest">ุขูุงุฏู ุชุณุช</span>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;" data-i18n="dashboard.systemCheckDesc">
                        ูุจู ุงุฒ ูุตุจ Odooุ ุณุณุชู ุดูุง ุจุฑุฑุณ ูโุดูุฏ ู ูุงุฒููุฏโูุง ูุงููุฌูุฏ ุงุฒ ููุงุจุน ุฑุณู ุฏุงูููุฏ ู ูุตุจ ูโุดููุฏ.
                    </p>
                    <div class="system-check-grid" id="systemCheckGrid">
                        <div class="check-item" data-check="os">
                            <div class="check-icon"><i class="fas fa-desktop"></i></div>
                            <div class="check-info">
                                <h4>ุณุณุชู ุนุงูู</h4>
                                <p>Windows 10/11 64-bit</p>
                            </div>
                            <span class="check-status">ุฏุฑ ุงูุชุธุงุฑ...</span>
                        </div>
                        <div class="check-item" data-check="python">
                            <div class="check-icon"><i class="fab fa-python"></i></div>
                            <div class="check-info">
                                <h4>Python 3.11</h4>
                                <p>ุฏุงูููุฏ ุงุฒ python.org</p>
                            </div>
                            <span class="check-status">ุฏุฑ ุงูุชุธุงุฑ...</span>
                        </div>
                        <div class="check-item" data-check="postgresql">
                            <div class="check-icon"><i class="fas fa-database"></i></div>
                            <div class="check-info">
                                <h4>PostgreSQL 16</h4>
                                <p>ุฏุงูููุฏ ุงุฒ postgresql.org</p>
                            </div>
                            <span class="check-status">ุฏุฑ ุงูุชุธุงุฑ...</span>
                        </div>
                        <div class="check-item" data-check="git">
                            <div class="check-icon"><i class="fab fa-git-alt"></i></div>
                            <div class="check-info">
                                <h4>Git</h4>
                                <p>ุฏุงูููุฏ ุงุฒ git-scm.com</p>
                            </div>
                            <span class="check-status">ุฏุฑ ุงูุชุธุงุฑ...</span>
                        </div>
                        <div class="check-item" data-check="nodejs">
                            <div class="check-icon"><i class="fab fa-node-js"></i></div>
                            <div class="check-info">
                                <h4>Node.js LTS</h4>
                                <p>ุฏุงูููุฏ ุงุฒ nodejs.org</p>
                            </div>
                            <span class="check-status">ุฏุฑ ุงูุชุธุงุฑ...</span>
                        </div>
                        <div class="check-item" data-check="vcredist">
                            <div class="check-icon"><i class="fas fa-cogs"></i></div>
                            <div class="check-info">
                                <h4>VC++ Redistributable</h4>
                                <p>ุฏุงูููุฏ ุงุฒ microsoft.com</p>
                            </div>
                            <span class="check-status">ุฏุฑ ุงูุชุธุงุฑ...</span>
                        </div>
                    </div>
                    <div class="action-buttons" style="margin-top: 24px; display: flex; gap: 12px; justify-content: center;">
                        <button class="btn btn-primary btn-glow" id="startSystemCheck">
                            <i class="fas fa-search"></i>
                            <span data-i18n="dashboard.startSystemCheck">ุดุฑูุน ุจุฑุฑุณ ุณุณุชู</span>
                        </button>
                        <button class="btn btn-outline" id="installMissing" style="display: none;">
                            <i class="fas fa-download"></i>
                            <span data-i18n="dashboard.installMissing">ูุตุจ ูุงุฒููุฏโูุง</span>
                        </button>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="card glass quick-actions">
                    <div class="card-header">
                        <h3><i class="fas fa-bolt"></i> <span data-i18n="dashboard.quickAccess">ุฏุณุชุฑุณ ุณุฑุน</span></h3>
                    </div>
                    <div class="actions-grid">
                        <a href="#downloads" class="action-btn">
                            <div class="action-icon blue">
                                <i class="fas fa-download"></i>
                            </div>
                            <span data-i18n="dashboard.downloadInstaller">ุฏุงูููุฏ ูุตุงุจ</span>
                        </a>
                        <a href="#licenses" class="action-btn">
                            <div class="action-icon green">
                                <i class="fas fa-plus"></i>
                            </div>
                            <span data-i18n="dashboard.buyLicense">ุฎุฑุฏ ูุงุณูุณ</span>
                        </a>
                        <a href="#" class="action-btn disabled-link" aria-disabled="true" tabindex="-1" title="ุจูโุฒูุฏ ูุนุงู ูโุดูุฏ">
                            <div class="action-icon orange">
                                <i class="fas fa-comment-dots"></i>
                            </div>
                            <span data-i18n="dashboard.sendTicket">ุงุฑุณุงู ุชฺฉุช</span>
                        </a>
                        <a href="#" class="action-btn">
                            <div class="action-icon purple">
                                <i class="fas fa-book"></i>
                            </div>
                            <span data-i18n="dashboard.documentation">ูุณุชูุฏุงุช</span>
                        </a>
                    </div>
                </div>

                <!-- Active Licenses - Full Management Section -->
                <div class="card glass licenses-card" id="licenses" style="grid-column: 1 / -1;">
                    <div class="card-header">
                        <h3><i class="fas fa-key"></i> <span data-i18n="dashboard.activeLicensesTitle">ูุงุณูุณโูุง ูู</span></h3>
                        <a href="payment.html" class="btn btn-primary btn-sm" style="font-size: 0.85rem;">
                            <i class="fas fa-shopping-cart"></i> 
                            <span data-i18n="licenses.buyLicense">ุฎุฑุฏ ูุงุณูุณ</span>
                        </a>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 16px; font-size: 0.9rem;">
                        <span data-i18n="licenses.note">ุจุฑุง ุฏุงูููุฏ ูุงูโูุงุ ุจุงุฏ ูุงุณูุณ ุบุฑ Trial ูุนุงู ุฏุงุดุชู ุจุงุดุฏ.</span>
                    </p>
                    <div id="licensesListDashboard" style="display: grid; gap: 14px;">
                        <!-- Licenses will be loaded dynamically -->
                        <div style="text-align: center; padding: 30px; color: var(--gray-light);">
                            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 12px;"></i>
                            <p data-i18n="dashboard.loading">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</p>
                        </div>
                    </div>
                </div>

                <!-- Admin Panel (Embedded) -->
                <div class="card glass" id="admin" style="display: none; padding: 0; overflow: hidden;">
                    <div class="card-header" style="padding: 18px 18px 0 18px; margin-bottom: 12px;">
                        <h3><i class="fas fa-shield-alt"></i> ูพูู ูุฏุฑุช</h3>
                        <a href="#" class="card-link" id="closeAdminPanel">ุจุณุชู</a>
                    </div>
                    <div style="padding: 0 18px 18px 18px;">
                        <iframe
                            id="adminPanelFrame"
                            title="Admin Panel"
                            src="admin.html"
                            style="width: 100%; height: 75vh; border: 0; border-radius: 14px; background: transparent;"
                            loading="lazy"
                        ></iframe>
                    </div>
                </div>

                <!-- Download Section -->
                <div class="card glass download-card" id="downloads">
                    <div class="card-header">
                        <h3><i class="fas fa-download"></i> <span data-i18n="dashboard.downloadInstaller">ุฏุงูููุฏ ูุตุงุจ</span></h3>
                    </div>
                    <div class="download-content">
                        <!-- Step by Step Guide -->
                        <div class="download-steps">
                            <h4 style="color: var(--primary); margin-bottom: 16px; font-size: 1rem;">
                                <i class="fas fa-route"></i> ูุฑุงุญู ูุตุจ ู ูุนุงูโุณุงุฒ
                            </h4>
                            <div class="step-list" style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px;">
                                <div class="step-item" style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(56, 189, 248, 0.1); border-radius: 10px; border-right: 3px solid var(--primary);">
                                    <div class="step-number" style="width: 28px; height: 28px; background: var(--primary); color: #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">ฑ</div>
                                    <div class="step-content">
                                        <strong style="color: var(--white);">ูุตุงุจ ุฑุง ุฏุงูููุฏ ู Unblock ฺฉูุฏ</strong>
                                        <p style="color: var(--gray-light); font-size: 0.85rem; margin: 4px 0 0 0;">
                                            ุฑู ูุงู ZIP ุฑุงุณุชโฺฉูฺฉ โ Properties โ ุชฺฉ <b>Unblock</b> โ OK โ ุณูพุณ Extract ฺฉูุฏ.
                                        </p>
                                    </div>
                                </div>
                                <div class="step-item" style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(56, 189, 248, 0.05); border-radius: 10px; border-right: 3px solid var(--gray);">
                                    <div class="step-number" style="width: 28px; height: 28px; background: var(--gray); color: #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">ฒ</div>
                                    <div class="step-content">
                                        <strong style="color: var(--white);">ูุตุงุจ ุฑุง ุงุฌุฑุง ฺฉูุฏ</strong>
                                        <p style="color: var(--gray-light); font-size: 0.85rem; margin: 4px 0 0 0;">ูุงู <code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px;">start_ui_online.bat</code> ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุดูุงุณู ุฑุงุงูู ููุงุด ุฏุงุฏู ูโุดูุฏ.</p>
                                    </div>
                                </div>
                                <div class="step-item" style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(56, 189, 248, 0.05); border-radius: 10px; border-right: 3px solid var(--gray);">
                                    <div class="step-number" style="width: 28px; height: 28px; background: var(--gray); color: #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">ณ</div>
                                    <div class="step-content">
                                        <strong style="color: var(--white);">ุดูุงุณู ุฑุงุงูู ุฑุง ฺฉูพ ู ูุงุณูุณ ุจุฎุฑุฏ</strong>
                                        <p style="color: var(--gray-light); font-size: 0.85rem; margin: 4px 0 0 0;">ุงุฒ ุจุฎุด ยซุฎุฑุฏ ูุงุณูุณยป ุจุง ุดูุงุณู ุฑุงุงููุ ูุงู ูุงุณูุณ (.oml) ุฏุฑุงูุช ฺฉูุฏ.</p>
                                    </div>
                                </div>
                                <div class="step-item" style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(56, 189, 248, 0.05); border-radius: 10px; border-right: 3px solid var(--gray);">
                                    <div class="step-number" style="width: 28px; height: 28px; background: var(--gray); color: #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">ด</div>
                                    <div class="step-content">
                                        <strong style="color: var(--white);">Odoo ุฑุง ูุตุจ ฺฉูุฏ!</strong>
                                        <p style="color: var(--gray-light); font-size: 0.85rem; margin: 4px 0 0 0;">ูุงู ูุงุณูุณ ุฑุง ฺฉูุงุฑ ูุตุงุจ ุจฺฏุฐุงุฑุฏ ู ูุตุจ ุฑุง ุดุฑูุน ฺฉูุฏ.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="download-info">
                            <div class="download-icon">
                                <i class="fas fa-cube"></i>
                            </div>
                            <div class="download-details">
                                <strong>OdooMaster Installer v2.0</strong>
                                <span>Windows 64-bit โข ~130 KB (ูุณุฎู ุขููุงู)</span>
                            </div>
                        </div>
                        <div class="download-meta">
                            <div class="meta-item" style="color: var(--success);">
                                <i class="fas fa-check-circle"></i>
                                <span>ุฏุงูููุฏ ุฑุงฺฏุงู - ุจุฏูู ูุงุฒ ุจู ูุงุณูุณ</span>
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-code-branch"></i>
                                Odoo 19 Community
                            </div>
                        </div>
                        <button class="btn btn-primary btn-block btn-glow download-btn" id="downloadBtn">
                            <i class="fas fa-download"></i>
                            <span>ุฏุงูููุฏ ุฑุงฺฏุงู ูุตุงุจ</span>
                        </button>
                        <div class="download-progress" id="downloadProgress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <span class="progress-text" data-i18n="dashboard.preparing">ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ...</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="card glass activity-card">
                    <div class="card-header">
                        <h3><i class="fas fa-history"></i> <span data-i18n="dashboard.recentActivity">ูุนุงูุชโูุง ุงุฎุฑ</span></h3>
                    </div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon green">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="activity-content">
                                <strong>ูุงุณูุณ ูุนุงู ุดุฏ</strong>
                                <span>ูพูู ุญุฑููโุง ุจุง ููููุช ูุนุงู ุดุฏ</span>
                            </div>
                            <span class="activity-time">ฒ ุณุงุนุช ูพุด</span>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon blue">
                                <i class="fas fa-download"></i>
                            </div>
                            <div class="activity-content">
                                <strong>ุฏุงูููุฏ ูุตุงุจ</strong>
                                <span>ูุณุฎู ฒ.ฐ ุฏุงูููุฏ ุดุฏ</span>
                            </div>
                            <span class="activity-time">ุฏุฑูุฒ</span>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon orange">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="activity-content">
                                <strong>ูพุฑุฏุงุฎุช ูููู</strong>
                                <span>ดนฐ,ฐฐฐ ุชููุงู</span>
                            </div>
                            <span class="activity-time">ณ ุฑูุฒ ูพุด</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gamification Section -->
            <div class="gamification-section">
                <div class="card glass achievements-card">
                    <div class="card-header">
                        <h3><i class="fas fa-trophy"></i> <span data-i18n="dashboard.achievements">ุฏุณุชุงูุฑุฏูุง</span></h3>
                        <span class="achievement-count">3/12</span>
                    </div>
                    <div class="achievements-grid">
                        <div class="achievement unlocked">
                            <div class="achievement-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <span data-i18n="dashboard.firstStep">ุงููู ูุฏู</span>
                        </div>
                        <div class="achievement unlocked">
                            <div class="achievement-icon">
                                <i class="fas fa-download"></i>
                            </div>
                            <span data-i18n="dashboard.firstDownload">ุงููู ุฏุงูููุฏ</span>
                        </div>
                        <div class="achievement unlocked">
                            <div class="achievement-icon">
                                <i class="fas fa-key"></i>
                            </div>
                            <span data-i18n="dashboard.licenseHolder">ูุงุณูุณโุฏุงุฑ</span>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <span>VIP</span>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <span data-i18n="dashboard.referrer">ูุนุฑู</span>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">
                                <i class="fas fa-crown"></i>
                            </div>
                            <span data-i18n="dashboard.legendary">ุงูุณุงููโุง</span>
                        </div>
                    </div>
                </div>

                <div class="card glass level-card">
                    <div class="level-header">
                        <div class="level-badge">
                            <i class="fas fa-medal"></i>
                            <span><span data-i18n="dashboard.level">ุณุทุญ</span> 3</span>
                        </div>
                        <div class="xp-info">
                            <strong>750 XP</strong>
                            <span><span data-i18n="dashboard.toNextLevel">ุชุง ุณุทุญ ุจุนุฏ:</span> 250 XP</span>
                        </div>
                    </div>
                    <div class="level-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 75%"></div>
                        </div>
                    </div>
                    <div class="level-rewards">
                        <span data-i18n="dashboard.nextLevelReward">ูพุงุฏุงุด ุณุทุญ ุจุนุฏ:</span>
                        <div class="reward-preview">
                            <i class="fas fa-gift"></i>
                            <span data-i18n="dashboard.discount10">10% ุชุฎูู ุฎุฑุฏ ุจุนุฏ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notifPanel">
        <div class="notif-header">
            <h4 data-i18n="dashboard.notifications">ุงุนูุงูโูุง</h4>
            <button class="mark-read" data-i18n="dashboard.markAllRead">ููู ุฎูุงูุฏู ุดุฏ</button>
        </div>
        <div class="notif-list">
            <div class="notif-item unread">
                <div class="notif-icon green">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="notif-content">
                    <strong>ูุตุจ ูููู!</strong>
                    <p>Odoo ุจุง ููููุช ูุตุจ ุดุฏ</p>
                    <span class="notif-time">ต ุฏููู ูพุด</span>
                </div>
            </div>
            <div class="notif-item unread">
                <div class="notif-icon blue">
                    <i class="fas fa-gift"></i>
                </div>
                <div class="notif-content">
                    <strong>ูุฏู ูฺู!</strong>
                    <p>ท ุฑูุฒ ุงุดุชุฑุงฺฉ ุฑุงฺฏุงู ูุนุงู ุดุฏ</p>
                    <span class="notif-time">ฑ ุณุงุนุช ูพุด</span>
                </div>
            </div>
            <div class="notif-item">
                <div class="notif-icon orange">
                    <i class="fas fa-sync"></i>
                </div>
                <div class="notif-content">
                    <strong>ุจุฑูุฒุฑุณุงู ุฌุฏุฏ</strong>
                    <p>ูุณุฎู ฒ.ฑ ููุชุดุฑ ุดุฏ</p>
                    <span class="notif-time">ุฏุฑูุฒ</span>
                </div>
            </div>
        </div>
    </div>

    <script src="js/i18n.js"></script>
    <script src="js/api.js"></script>
    <script src="js/main.js"></script>
    <script src="js/installer.js"></script>
    <script src="js/dashboard.js"></script>
    <script>
        // System Check Integration
        document.addEventListener('DOMContentLoaded', function() {
            const checkBtn = document.getElementById('startSystemCheck');
            const installBtn = document.getElementById('installMissing');
            const statusBadge = document.getElementById('systemStatus');
            
            if (checkBtn) {
                checkBtn.addEventListener('click', async function() {
                    checkBtn.disabled = true;
                    checkBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ุฏุฑ ุญุงู ุจุฑุฑุณ...';
                    statusBadge.textContent = 'ุฏุฑ ุญุงู ุจุฑุฑุณ...';
                    statusBadge.style.background = 'var(--primary)';
                    statusBadge.style.color = 'white';
                    
                    // Run system check
                    await OnlineInstaller.checkSystem();
                    
                    // Update UI based on results
                    const results = OnlineInstaller.state.checkResults;
                    const grid = document.getElementById('systemCheckGrid');
                    
                    for (const [name, result] of Object.entries(results)) {
                        const item = grid.querySelector(`[data-check="${name}"]`);
                        if (item) {
                            item.classList.remove('checking', 'success', 'warning', 'error');
                            item.classList.add(result.status);
                            item.querySelector('.check-status').textContent = 
                                result.installed ? result.version : (result.message || 'ูุตุจ ูุดุฏู');
                        }
                    }
                    
                    // Show install button if needed
                    if (OnlineInstaller.state.installQueue.length > 0) {
                        installBtn.style.display = 'inline-flex';
                        statusBadge.textContent = `${OnlineInstaller.state.installQueue.length} ููุฑุฏ ูุงุฒ ุจู ูุตุจ`;
                        statusBadge.style.background = '#ff5f57';
                    } else {
                        statusBadge.textContent = 'ุขูุงุฏู ูุตุจ Odoo โ';
                        statusBadge.style.background = '#28ca42';
                    }
                    
                    checkBtn.disabled = false;
                    checkBtn.innerHTML = '<i class="fas fa-redo"></i> ุจุฑุฑุณ ูุฌุฏุฏ';
                });
            }
            
            if (installBtn) {
                installBtn.addEventListener('click', function() {
                    // Show download links for missing items
                    const queue = OnlineInstaller.state.installQueue;
                    let message = 'ููฺฉโูุง ุฏุงูููุฏ ุฑุณู:\\n\\n';
                    
                    queue.forEach(item => {
                        message += `${item.name} (${item.size}):\\n${item.url}\\n\\n`;
                    });
                    
                    message += 'ูพุณ ุงุฒ ูุตุจุ ุฏฺฉูู "ุจุฑุฑุณ ูุฌุฏุฏ" ุฑุง ุจุฒูุฏ.';
                    
                    // Open first download
                    if (queue.length > 0) {
                        window.open(queue[0].url, '_blank');
                    }
                    
                    alert(message);
                });
            }
        });
    </script>
</body>
</html>
